<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Document</title>
</head>

<body>
	<script>
		function makeRequest(location) {
			return new Promise((resolve, reject) => {
				console.log(`Making request to ${location}`);

				if (location === "Google") {
					resolve("Google says hi");
				} else {
					reject("We can only talk to Google");
				}
			});
		}

		function processRequest(response) {
			return new Promise((resolve, reject) => {
				console.log("Processing response");
				resolve(`Extra Informaion + ${response}`);
			});
		}

		// makeRequest("FB")
		// .then((response) => {
		// 	console.log("Response received");
		// 	return processRequest(response);
		// })
		// .then(processedResponse => {
		// 	console.log(processedResponse);
		// })
		// .catch(err => {
		// 	console.log(err);
		// })

		async function doWork() {
			try{
				const response = await makeRequest('Google55');
				// once hit await, JS will leave the async function, go to the rest part of the program, waiting for the work after 'await' to finish, and then come back to the remaining part of the async function
				console.log("Response received");
				const processedResponse = await processRequest(response);
				console.log(processedResponse);
			} catch (err) {
				console.log(err);
			}
		};
		doWork();
		console.log('Hiiii');
		
		
		
		
		;
	</script>
</body>

</html>